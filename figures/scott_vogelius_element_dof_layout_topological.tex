\documentclass[tikz]{standalone}
\input{figures/common/preamble}

\begin{document}
\begin{tikzpicture}[xscale=.6,yscale=-.75]

\input{figures/common/data_layout.tikz}

\tikzmath{
  \edgeoffset = 7;
  \celloffset = 18;
}

\newcommand{\drawGuideLines}{
  \foreach \x in {1,...,3} {
    \draw [dotted] (\x,\yshift) -- ++ (0,1);
  }
  \labelBoxNew{5}{\dots}{white}

  \foreach \x in {1,...,7} {
    \draw [dotted] (\x+\edgeoffset,\yshift) -- ++ (0,1);
  }
  \labelBoxNew{9+\edgeoffset}{\dots}{white}

  \foreach \x in {1,...,7} {
    \draw [dotted] (\x+\celloffset,\yshift) -- ++ (0,1);
  }
  \labelBoxNew{9+\celloffset}{\dots}{white}
}

% points
\tikzmath{
  \yshift = 0;
}

\labelLayoutAxis{\pycode{"mesh"}}

\drawBoxNewNew{0}{2}{bgvertdofcolor}
\drawBoxNewNew{2}{2}{bgvertdofcolor}
\drawBoxNewNew{4}{2}{white}

\drawBoxNewNew{0+\edgeoffset}{4}{bgedgedofcolor}
\drawBoxNewNew{4+\edgeoffset}{4}{bgedgedofcolor}
\drawBoxNewNew{8+\edgeoffset}{2}{white}

\drawBoxNewNew{0+\celloffset}{8}{bgcelldofcolor}
\drawBoxNewNew{8+\celloffset}{2}{white}

\drawGuideLines

\labelBoxNew{1}{$v_0$}{bgvertdofcolor}
\labelBoxNew{3}{$v_1$}{bgvertdofcolor}

\labelBoxNew{2+\edgeoffset}{$e_0$}{bgedgedofcolor}
\labelBoxNew{6+\edgeoffset}{$e_1$}{bgedgedofcolor}

\labelBoxNew{4+\celloffset}{$c_0$}{bgcelldofcolor}


% spaces
\tikzmath{
  \yshift = \yshift + 2;
}

\labelLayoutAxis{\pycode{"space"}};

\drawBoxNewNew{0}{2}{bgvertdofcolor}
\drawBoxNewNew{2}{2}{bgvertdofcolor}
\drawBoxNewNew{4}{2}{white}

\drawBoxNewNew{0+\edgeoffset}{4}{bgedgedofcolor}
\drawBoxNewNew{4+\edgeoffset}{4}{bgedgedofcolor}
\drawBoxNewNew{8+\edgeoffset}{2}{white}

\drawBoxNewNew{0+\celloffset}{2}{bgcelldofcolor}
\drawBoxNewNew{2+\celloffset}{6}{bgcelldofcolor}
\drawBoxNewNew{8+\celloffset}{2}{white}

\drawGuideLines

\labelBoxNew{1}{$V_h$}{bgvertdofcolor}
\labelBoxNew{3}{$V_h$}{bgvertdofcolor}

\labelBoxNew{2+\edgeoffset}{$V_h$}{bgedgedofcolor}
\labelBoxNew{6+\edgeoffset}{$V_h$}{bgedgedofcolor}

\labelBoxNew{1+\celloffset}{$V_h$}{bgcelldofcolor}
\labelBoxNew{5+\celloffset}{$Q_h$}{bgcelldofcolor}

% nodes
\tikzmath{
  \yshift = \yshift + 2;
}

\labelLayoutAxis{\pycode{"node"}};

\drawBoxNewNew{0}{2}{bgvertdofcolor}
\drawBoxNewNew{2}{2}{bgvertdofcolor}
\drawBoxNewNew{4}{2}{white}

\drawBoxNewNew{0+\edgeoffset}{2}{bgedgedofcolor}
\drawBoxNewNew{2+\edgeoffset}{2}{bgedgedofcolor}
\drawBoxNewNew{4+\edgeoffset}{2}{bgedgedofcolor}
\drawBoxNewNew{6+\edgeoffset}{2}{bgedgedofcolor}
\drawBoxNewNew{8+\edgeoffset}{2}{white}

\drawBoxNewNew{0+\celloffset}{2}{bgcelldofcolor}
\drawBoxNewNew{2+\celloffset}{1}{bgcelldofcolor}
\drawBoxNewNew{3+\celloffset}{1}{bgcelldofcolor}
\drawBoxNewNew{4+\celloffset}{1}{bgcelldofcolor}
\drawBoxNewNew{5+\celloffset}{1}{bgcelldofcolor}
\drawBoxNewNew{6+\celloffset}{1}{bgcelldofcolor}
\drawBoxNewNew{7+\celloffset}{1}{bgcelldofcolor}
\drawBoxNewNew{8+\celloffset}{2}{white}

\drawGuideLines

\labelBoxNew{1}{$n_0$}{bgvertdofcolor}
\labelBoxNew{3}{$n_0$}{bgvertdofcolor}

\labelBoxNew{1+\edgeoffset}{$n_0$}{bgedgedofcolor}
\labelBoxNew{3+\edgeoffset}{$n_1$}{bgedgedofcolor}
\labelBoxNew{5+\edgeoffset}{$n_0$}{bgedgedofcolor}
\labelBoxNew{7+\edgeoffset}{$n_1$}{bgedgedofcolor}

\labelBoxNew{1  +\celloffset}{$n_0$}{bgcelldofcolor}
\labelBoxNew{2.5+\celloffset}{$n_0$}{bgcelldofcolor}
\labelBoxNew{3.5+\celloffset}{$n_1$}{bgcelldofcolor}
\labelBoxNew{4.5+\celloffset}{$n_2$}{bgcelldofcolor}
\labelBoxNew{5.5+\celloffset}{$n_3$}{bgcelldofcolor}
\labelBoxNew{6.5+\celloffset}{$n_4$}{bgcelldofcolor}
\labelBoxNew{7.5+\celloffset}{$n_5$}{bgcelldofcolor}

% components
\tikzmath{
  \yshift = \yshift + 2;
}

\labelLayoutAxis{\pycode{"component"}};

\drawBoxNewNew{0}{1}{bgvertdofcolor}
\drawBoxNewNew{1}{1}{bgvertdofcolor}
\drawBoxNewNew{2}{1}{bgvertdofcolor}
\drawBoxNewNew{3}{1}{bgvertdofcolor}
\drawBoxNewNew{4}{2}{white}

\drawBoxNewNew{0+\edgeoffset}{1}{bgedgedofcolor}
\drawBoxNewNew{1+\edgeoffset}{1}{bgedgedofcolor}
\drawBoxNewNew{2+\edgeoffset}{1}{bgedgedofcolor}
\drawBoxNewNew{3+\edgeoffset}{1}{bgedgedofcolor}
\drawBoxNewNew{4+\edgeoffset}{1}{bgedgedofcolor}
\drawBoxNewNew{5+\edgeoffset}{1}{bgedgedofcolor}
\drawBoxNewNew{6+\edgeoffset}{1}{bgedgedofcolor}
\drawBoxNewNew{7+\edgeoffset}{1}{bgedgedofcolor}
\drawBoxNewNew{8+\edgeoffset}{2}{white}

\drawBoxNewNew{0+\celloffset}{1}{bgcelldofcolor}
\drawBoxNewNew{1+\celloffset}{1}{bgcelldofcolor}
\drawBoxNewNew{2+\celloffset}{1}{bgcelldofcolor}
\drawBoxNewNew{3+\celloffset}{1}{bgcelldofcolor}
\drawBoxNewNew{4+\celloffset}{1}{bgcelldofcolor}
\drawBoxNewNew{5+\celloffset}{1}{bgcelldofcolor}
\drawBoxNewNew{6+\celloffset}{1}{bgcelldofcolor}
\drawBoxNewNew{7+\celloffset}{1}{bgcelldofcolor}
\drawBoxNewNew{8+\celloffset}{2}{white}

\drawGuideLines

\labelBoxNew{ .5}{\labelComponent{0}}{bgvertdofcolor}
\labelBoxNew{1.5}{\labelComponent{1}}{bgvertdofcolor}
\labelBoxNew{2.5}{\labelComponent{0}}{bgvertdofcolor}
\labelBoxNew{3.5}{\labelComponent{1}}{bgvertdofcolor}

\labelBoxNew{ .5+\edgeoffset}{\labelComponent{0}}{bgedgedofcolor}
\labelBoxNew{1.5+\edgeoffset}{\labelComponent{1}}{bgedgedofcolor}
\labelBoxNew{2.5+\edgeoffset}{\labelComponent{0}}{bgedgedofcolor}
\labelBoxNew{3.5+\edgeoffset}{\labelComponent{1}}{bgedgedofcolor}
\labelBoxNew{4.5+\edgeoffset}{\labelComponent{0}}{bgedgedofcolor}
\labelBoxNew{5.5+\edgeoffset}{\labelComponent{1}}{bgedgedofcolor}
\labelBoxNew{6.5+\edgeoffset}{\labelComponent{0}}{bgedgedofcolor}
\labelBoxNew{7.5+\edgeoffset}{\labelComponent{1}}{bgedgedofcolor}

\labelBoxNew{ .5+\celloffset}{\labelComponent{0}}{bgcelldofcolor}
\labelBoxNew{1.5+\celloffset}{\labelComponent{1}}{bgcelldofcolor}

\labelBoxNew{2.5+\celloffset}{\labelComponent{0}}{bgcelldofcolor}
\labelBoxNew{3.5+\celloffset}{\labelComponent{0}}{bgcelldofcolor}
\labelBoxNew{4.5+\celloffset}{\labelComponent{0}}{bgcelldofcolor}
\labelBoxNew{5.5+\celloffset}{\labelComponent{0}}{bgcelldofcolor}
\labelBoxNew{6.5+\celloffset}{\labelComponent{0}}{bgcelldofcolor}
\labelBoxNew{7.5+\celloffset}{\labelComponent{0}}{bgcelldofcolor}

\end{tikzpicture}
\end{document}
