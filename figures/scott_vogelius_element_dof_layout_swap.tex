\documentclass[tikz]{standalone}
\input{figures/common/preamble}

\usepackage{minted}
\usepackage{mymacros}

\begin{document}
\begin{tikzpicture}[xscale=.6,yscale=-.75]

\input{figures/common/data_layout.tikz}
\input{figures/common/misc.tikz}

\tikzmath{
  \yshift = 0;
}

\newcommand{\drawGuideLines}[2]{
  \foreach \x in {#1,...,#2} {
    \draw [dotted] (\x,\yshift) -- ++ (0,1);
  }
}

\newcommand{\drawGuideLinesInner}{
  \drawGuideLines{1}{5}
  \labelBoxNew{6}{\dots}{white}

  \drawGuideLines{7}{12}
  \labelBoxNew{13}{\dots}{white}

  \drawGuideLines{15}{20}
  \labelBoxNew{21}{\dots}{white}
}

% spaces
\labelLayoutAxis{\pycode{"space"}};

\drawBoxNewNew{0}{14}{white}
\drawBoxNewNew{14}{8}{white}

\drawGuideLines{1}{12}
\labelBoxNew{13}{\dots}{white}

\drawGuideLines{15}{20}
\labelBoxNew{21}{\dots}{white}

\labelBoxNew{7}{$V_h$}{white}
\labelBoxNew{18}{$Q_h$}{white}

% components
\tikzmath{
  \yshift = \yshift + 2;
}

\labelLayoutAxis{\pycode{"component"}};
\drawBoxNewNew{0}{7}{white}
\drawBoxNewNew{7}{7}{white}
\drawBoxNewNew{14}{8}{white}

\drawGuideLinesInner

\labelBoxNew{3.5}{\labelComponent{0}}{white}
\labelBoxNew{10.5}{\labelComponent{1}}{white}
\labelBoxNew{18}{\labelComponent{0}}{white}

% points
\tikzmath{
  \yshift = \yshift + 2;
}

\labelLayoutAxis{\pycode{"mesh"}};

\drawBoxNewNew{0}{1}{bgvertdofcolor}
\drawBoxNewNew{1}{1}{bgcelldofcolor}
\drawBoxNewNew{2}{2}{bgedgedofcolor}
\drawBoxNewNew{4}{1}{bgvertdofcolor}
\drawBoxNewNew{5}{2}{white}

\drawBoxNewNew{ 7}{1}{bgvertdofcolor}
\drawBoxNewNew{ 8}{1}{bgcelldofcolor}
\drawBoxNewNew{ 9}{2}{bgedgedofcolor}
\drawBoxNewNew{11}{1}{bgvertdofcolor}
\drawBoxNewNew{12}{2}{white}

\drawBoxNewNew{14}{6}{bgcelldofcolor}
\drawBoxNewNew{20}{2}{white}

\drawGuideLinesInner

\labelBoxNew{ .5}{$v_7$}{bgvertdofcolor}
\labelBoxNew{1.5}{$c_1$}{bgcelldofcolor}
\labelBoxNew{3  }{$e_9$}{bgedgedofcolor}
\labelBoxNew{4.5}{$v_2$}{bgvertdofcolor}

\labelBoxNew{ .5+7}{$v_7$}{bgvertdofcolor}
\labelBoxNew{1.5+7}{$c_1$}{bgcelldofcolor}
\labelBoxNew{3  +7}{$e_9$}{bgedgedofcolor}
\labelBoxNew{4.5+7}{$v_2$}{bgvertdofcolor}

\labelBoxNew{3+14}{$c_1$}{bgcelldofcolor}

% nodes
\tikzmath{
  \yshift = \yshift + 2;
}

\labelLayoutAxis{\pycode{"node"}};

\drawBoxNewNew{0}{1}{bgvertdofcolor}
\drawBoxNewNew{1}{1}{bgcelldofcolor}
\drawBoxNewNew{2}{1}{bgedgedofcolor}
\drawBoxNewNew{3}{1}{bgedgedofcolor}
\drawBoxNewNew{4}{1}{bgvertdofcolor}
\drawBoxNewNew{5}{2}{white}

\drawBoxNewNew{0+7}{1}{bgvertdofcolor}
\drawBoxNewNew{1+7}{1}{bgcelldofcolor}
\drawBoxNewNew{2+7}{1}{bgedgedofcolor}
\drawBoxNewNew{3+7}{1}{bgedgedofcolor}
\drawBoxNewNew{4+7}{1}{bgvertdofcolor}
\drawBoxNewNew{5+7}{2}{white}

\drawBoxNewNew{0+14}{1}{bgcelldofcolor}
\drawBoxNewNew{1+14}{1}{bgcelldofcolor}
\drawBoxNewNew{2+14}{1}{bgcelldofcolor}
\drawBoxNewNew{3+14}{1}{bgcelldofcolor}
\drawBoxNewNew{4+14}{1}{bgcelldofcolor}
\drawBoxNewNew{5+14}{1}{bgcelldofcolor}
\drawBoxNewNew{6+14}{2}{white}

\drawGuideLinesInner

\labelBoxNew{ .5}{$n_0$}{bgvertdofcolor}
\labelBoxNew{1.5}{$n_0$}{bgcelldofcolor}
\labelBoxNew{2.5}{$n_0$}{bgedgedofcolor}
\labelBoxNew{3.5}{$n_1$}{bgedgedofcolor}
\labelBoxNew{4.5}{$n_0$}{bgvertdofcolor}

\labelBoxNew{ .5+7}{$n_0$}{bgvertdofcolor}
\labelBoxNew{1.5+7}{$n_0$}{bgcelldofcolor}
\labelBoxNew{2.5+7}{$n_0$}{bgedgedofcolor}
\labelBoxNew{3.5+7}{$n_1$}{bgedgedofcolor}
\labelBoxNew{4.5+7}{$n_0$}{bgvertdofcolor}

\labelBoxNew{ .5+14}{$n_0$}{bgcelldofcolor}
\labelBoxNew{1.5+14}{$n_1$}{bgcelldofcolor}
\labelBoxNew{2.5+14}{$n_2$}{bgcelldofcolor}
\labelBoxNew{3.5+14}{$n_3$}{bgcelldofcolor}
\labelBoxNew{4.5+14}{$n_4$}{bgcelldofcolor}
\labelBoxNew{5.5+14}{$n_5$}{bgcelldofcolor}

\end{tikzpicture}
\end{document}
