% useful template:
% https://www.overleaf.com/latex/templates/imperial-college-london-phd-thesis-latex-template/zfybynnyczhb

\documentclass[a4,12pt,twoside]{report}

\usepackage[left=2cm,right=2cm,top=2cm,bottom=3cm]{geometry}

\usepackage{amsmath}
% https://tex.stackexchange.com/questions/4216/how-to-typeset-correctly
\usepackage{mathtools}

\usepackage{setspace}
  \onehalfspacing


% FIGURES
\usepackage{cleveref}
\usepackage{graphicx}
  \graphicspath{{./figures}}
% for subfigures
\usepackage{caption}
\usepackage{subcaption}

% for code
\usepackage{algorithm}
\usepackage{minted}
  % center code listings
  % https://tex.stackexchange.com/questions/161124/how-to-make-a-minted-code-listing-centered-on-a-page
  \usepackage{xpatch,letltxmacro}
  \LetLtxMacro{\cminted}{\minted}
  \let\endcminted\endminted
  \xpretocmd{\cminted}{\RecustomVerbatimEnvironment{Verbatim}{BVerbatim}{}}{}{}

  % settings for all minted environments
  % https://tex.stackexchange.com/questions/25190/defining-a-command-for-a-minted-environment
  \newminted[pyalg]{python}{fontsize=\footnotesize,bgcolor=gray!20,autogobble,linenos}
  \newenvironment{env}{\VerbatimEnvironment\begin{pyalg}}{\end{pyalg}}

% code overlay: https://tex.stackexchange.com/questions/287549/is-it-possible-to-use-tikzmark-inside-minted
\usepackage{tikz}
  \usetikzlibrary{calc,decorations.pathreplacing,tikzmark}

% ------ TABLES -------

% increase table spacing (https://www.overleaf.com/learn/latex/Questions/How_do_I_change_column_or_row_separation_in_LaTeX_tables)
\renewcommand{\arraystretch}{1.2}

% BIBLIOGRAPHY
\usepackage{biblatex}
  \addbibresource{bibliography.bib}

% TODO
\usepackage{todonotes}

% CUSTOM
\usepackage{mymacros}

% must be last package used
\usepackage{subfiles}

\title{An Execution Abstraction for Compact Computational Kernels on Unstructured Meshes}
\author{Connor J. Ward}
\date{\today}

\begin{document}
  \maketitle

  % \subfile{chapters/0_abstract}

  \tableofcontents

  \subfile{chapters/1_introduction}
  \subfile{chapters/2_background}
  \subfile{chapters/3_mesh_data_layouts}
  \subfile{chapters/4_indexing}
  \subfile{chapters/5_dsl}
  \subfile{chapters/6_parallel}
  \subfile{chapters/7_rest}

  \printbibliography
\end{document}
